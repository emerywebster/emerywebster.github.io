<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Rails Tutorial - Chapter 6 - Webb Henderson - Product Designer in Denver, CO</title>

  <meta name="author" content="Webb Henderson" />
  
  <meta name="description" content="Webb Henderson is a product designer based in Denver Colorado. He specializes in user research, problem & solution validation, prototyping, and front end development for startups." />

  

  <link rel="alternate" type="application/rss+xml" title="Webb Henderson - Product Designer in Denver, CO - Webb Henderson is a product designer based in Denver Colorado. He specializes in user research, problem & solution validation, prototyping, and front end development for startups." href="/feed.xml" />

    
  
    
      <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    
      
  
  
    
      <link rel="stylesheet" href="/assets/css/vendor/highlight.css" />
    
  
  
    
      <link rel="stylesheet" href="/assets/css/styles.css" />
    
    
  
  
  

    
    
  
  
  
  
  
     
  
  <!-- Facebook OpenGraph tags -->
  <meta property="og:title" content="Rails Tutorial - Chapter 6" />
  <meta property="og:type" content="website" />
  
  
  <meta property="og:url" content="http://emerywebster.com/2015/10/21/rails-tutorial-chap-6//" />
  
  
  
  <meta property="og:image" content="http://emerywebster.com/assets/img/avatar.jpg" />
  

  <!-- Hotjar -->
  <script>
      (function(h,o,t,j,a,r){
          h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
          h._hjSettings={hjid:473853,hjsv:5};
          a=o.getElementsByTagName('head')[0];
          r=o.createElement('script');r.async=1;
          r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
          a.appendChild(r);
      })(window,document,'//static.hotjar.com/c/hotjar-','.js?sv=');
  </script>

</head>

  <body>
    <nav id="header" class="nav">
  <div class="nav-bar container mx-auto">
    <a class="link--subdued text-sm font-bold lg:p-3" href="http://emerywebster.com">Webb Henderson</a>

    <button onclick="toggleMenu()" id="menuButton" type="button" class="font-bold link--subdued text-sm lg:text-base sm:hidden px-2 py-1 border border-gray-400 dark:border-gray-700 rounded">
      <span class="sr-only">Toggle navigation</span>
      <i id="menuIcon" class="fa fa-bars fa-fw mr-1"></i>
      Menu
    </button>
    <ul class="hidden text-sm sm:flex">
      
      
      <li>
        
            





<a class="link--subdued font-bold p-3" href="/#work-samples">Work</a>

      </li>
      
      
      
      <li>
        
            





<a class="link--subdued font-bold p-3" href="/thoughts">Writing</a>

      </li>
      
      
      
      <li>
        
            





<a class="link--subdued font-bold p-3" href="/about">About</a>

      </li>
      
      
      
      <li>
        
            





<a class="link--subdued font-bold p-3" href="/contact">Contact</a>

      </li>
      
      
    </ul>
  </div>

  <ul id="mobileMenu" class="mobileMenu hidden" onclick="toggleMenu()">
    
      
        <li class="px-4 py-3">
          
            





<a class="link--subdued font-bold p-3" href="/#work-samples">Work</a>

        </li>
      
    
      
        <li class="px-4 py-3">
          
            





<a class="link--subdued font-bold p-3" href="/thoughts">Writing</a>

        </li>
      
    
      
        <li class="px-4 py-3">
          
            





<a class="link--subdued font-bold p-3" href="/about">About</a>

        </li>
      
    
      
        <li class="px-4 py-3">
          
            





<a class="link--subdued font-bold p-3" href="/contact">Contact</a>

        </li>
      
    
  </ul>

	
</nav>

    <main class="content pt-16">
      



<header class="header-section pt-16 ">

<h1 class="text-center">Rails Tutorial - Chapter 6</h1>



  <span class="block font-serif post-meta text-gray-600 text-lg mb-6 text-center">October 21, 2015</span>

</header>

<div class="max-w-screen-md mx-auto px-4">
  <article role="main" class="text-lg mb-20">
    <p>Before I get to the meat of this I have to note the significance of today, October 21, 2015, which is the day Marty McFly arrives in <em>the future</em> and we’re introduced to all kinds of iconic inventions like hoverboards and self-lacing shoes. My favorite tribute is (predictably) <a href="https://instagram.com/p/9GgNQKuzwM/">golf-related</a>… <img class="emoji" title=":golf:" alt=":golf:" src="https://github.githubassets.com/images/icons/emoji/unicode/26f3.png" height="20" width="20"></p>

<hr>

<p>Back to it. My progress on the Rails Tutorial remains steady. Chapter 6 is about <strong>modeling users</strong>. So…what is a model?  According to Wikipedia, a model “stores data that is retrieved according to commands from the controller and displayed in the view.” That’s somewhat helpful in the context of the MVC architectural pattern, but what does it really mean?</p>

<p>While this seems to vary depending on the technologies/frameworks/languages involved, it appears to me that models can be defined as a way to <strong>describe data structures and the methods to access them</strong>. In other words what type of information do we need to store, how should it be treated (by the user and the system), and how do we access/manipulate it?</p>

<p>In this chapter we started down this path by creating and building upon a <em>User</em> model. Generally users have names, emails, (timestamps), and passwords. We created each of these by <em>generating</em> the User model (rails tees this up pretty simply) and then telling it how to handle each attribute. That’s the easy part.</p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell"><span class="nv">$ </span>rails generate model User name:string email:string</code></pre></figure>

<p>We then built some tests and <a href="https://en.wikipedia.org/wiki/Test-driven_development">red / green / refactored</a> them as we’ve done before. This included:</p>

<ul>
  <li>Validity (user names/emails can’t be blank in the system)</li>
  <li>Length (entries must be greater than zero but less than 255 characters)</li>
  <li>Format (can a user enter <em>foo@example..com</em> and walk away without realizing they made a mistake?)</li>
  <li>Uniqueness (is this user’s email already in the system?)</li>
</ul>

<p>We also learned about secure password creation via hashes…which in this case is largely handled by the ruby gem <code class="language-plaintext highlighter-rouge">bcrypt</code>. We also learned about database <strong>indexing</strong> so our application doesn’t need to search every single line of our database to find what it’s looking for each time.</p>

<p>Finally we learned about <strong>migrations</strong>…which IMHO are the most interesting aspect of all of this.</p>

<p>Within <em>app/db/migrate</em> I have three files:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">[timestamp]_create_users.rb</code></li>
  <li><code class="language-plaintext highlighter-rouge">[timestamp]_add_index_to_users_email.rb</code></li>
  <li><code class="language-plaintext highlighter-rouge">[timestamp]_add_password.rb</code></li>
</ul>

<p>These files are essentially incremental instructions for ‘how to construct the database’ (and are translated by Rails into SQL when it’s time to run the <code class="language-plaintext highlighter-rouge">bundle exec rake db:migrate</code> command.</p>

<p>So this code:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># From [timestamp]_create_users.rb</span>
<span class="k">class</span> <span class="nc">CreateUsers</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Migration</span>
  <span class="k">def</span> <span class="nf">change</span>
    <span class="n">create_table</span> <span class="ss">:users</span> <span class="k">do</span> <span class="o">|</span><span class="n">t</span><span class="o">|</span>
      <span class="n">t</span><span class="p">.</span><span class="nf">string</span> <span class="ss">:name</span>
      <span class="n">t</span><span class="p">.</span><span class="nf">string</span> <span class="ss">:email</span>

      <span class="n">t</span><span class="p">.</span><span class="nf">timestamps</span> <span class="ss">null: </span><span class="kp">false</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span></code></pre></figure>

<p>…will execute SQL commands behind the scenes to set up the database architecture (create table, add columns for name/email…and add timestamps). So if I make a mistake when structuring the <code class="language-plaintext highlighter-rouge">_add_password</code> migration piece I can just perform a <code class="language-plaintext highlighter-rouge">db:rollback</code>, make any necessary changes, and then <code class="language-plaintext highlighter-rouge">db:migrate</code> it back into place. Pretty cool.</p>

<p>While it’s pretty clear that you don’t need to have a deep understanding of SQL to perform any of this, it certainly wouldn’t hurt to learn more. I’ve had quite a bit of exposure to MySQL when working with WordPress sites, etc…but Hartl suggests ‘reading the SQL corresponding to Active Record commands.’</p>

<p>Time to add another item to the TODO list!<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote">1</a></sup></p>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>This is already like the sixth time this has happened while going through this tutorial. You learn one thing only to realize that you really need to learn something else as well. It’s clear that this never-ending learning pattern is a big part of web development…which is also part of the reason I’m drawn to it. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">↩</a></p>
    </li>
  </ol>
</div>

  </article>
</div>



    </main>
    <footer class="container mx-auto pt-24 pb-8">
  <div class="flex items-center justify-between px-3">
    <ul class="flex">
      
      <li class="px-1">
        <a class="link--subduedDark p-2" href="https://linkedin.com/in/emerywebster" title="LinkedIn">
          <i class="fa fa-linkedin fa-lg"></i>
        </a>
      </li>
      
      
      
      <li class="px-1">
        <a class="link--subduedDark p-2" href="https://github.com/emerywebster" title="GitHub">
          <i class="fa fa-github fa-lg"></i>
        </a>
      </li>
      
      
      <li class="px-1">
        <a class="link--subduedDark p-2" href="https://twitter.com/emerywebster" title="Twitter">
          <i class="fa fa-twitter fa-lg"></i>
        </a>
      </li>
      
      
      <li class="px-1">
        <a class="link--subduedDark p-2" href="http://instagram.com/emerywebster" title="Email me">
          <i class="fa fa-instagram fa-lg"></i>
        </a>
      </li>
      
      
      		  
    </ul>
    <span class="text-sm">
      Hosted by <a class="link--dotted link--subdued" href="https://github.com/emerywebster/emerywebster.github.io/">GitHub</a>.
    </span>
  </div>
</footer>

    









  
    
	<script src="/assets/js/main.js"></script>
    
  




	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		ga('create', 'UA-8462524-1', 'auto');
		ga('send', 'pageview');
	</script>



  </body>
</html>
